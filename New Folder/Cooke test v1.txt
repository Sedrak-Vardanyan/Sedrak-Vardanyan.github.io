<!-- ... (your existing HTML code) ... -->

<script>
  // Check if there are previously flipped cards stored in cookies
  const savedFlippedCards = getCookie('flippedCards');
  const savedFlippedCardsArray = savedFlippedCards ? JSON.parse(savedFlippedCards) : [];

  // ... (your existing JavaScript code) ...

  // Function to save flipped cards to cookies
  function saveFlippedCardsToCookies() {
    const flippedCards = Array.from(document.querySelectorAll('.card.flipped')).map(card => card.classList[1]);
    setCookie('flippedCards', JSON.stringify(flippedCards));
  }

  // Function to set a cookie
  function setCookie(name, value) {
    document.cookie = `${name}=${value}; path=/`;
  }

  // Function to get a cookie by name
  function getCookie(name) {
    const cookies = document.cookie.split('; ');
    for (const cookie of cookies) {
      const [cookieName, cookieValue] = cookie.split('=');
      if (cookieName === name) {
        return cookieValue;
      }
    }
    return null;
  }

  // ... (your existing JavaScript code) ...

  const playButton = document.querySelector('.play');
  playButton.addEventListener('click', () => {
    saveFlippedCardsToCookies();
    window.location.href = 'play.html';
  });
</script>

<!-- ... (your existing HTML code) ... -->
